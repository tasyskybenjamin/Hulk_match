# 需求管理页面功能说明

## 概述
需求管理页面是HOM-Hulk运维平台的核心功能模块，提供全面的需求管理和分析能力。

## 主要功能

### 1. 智能筛选器
- **联动筛选**: 需求渠道 → 需求场景 → 客户名称的三级联动
- **需求渠道**: 日常、活动、应急、专项、资源池
- **需求场景**:
  - 日常: avatar日常供给记录、预约扩容
  - 活动: 2025五一、2025十一
  - 应急: 应急资源池补充记录
  - 资源池: 弹性、cargo、金融专区、结算单元等
- **需求状态**: 待评估（不保障SLA）、确认待交付（SLA）、已交付、已回收、驳回
- **地域/机房**: 支持Any（不指定）选项
- **产品类型**: 通用、经济、高性能、Hulk VM、专用宿主机等
- **需求标签**: 预期内/外、预算内/外、紧急/常规等
- **默认时间范围**: 最近一个月 + 未来一个月

### 2. 汇总统计
6个核心指标卡片：
- 需求总量
- 待评估需求（不保障SLA）
- 确认待交付需求（SLA）
- 已交付
- 已回收
- 驳回

### 3. 需求分布分析
- **多维度分析**: 支持按地域、渠道、状态三个维度查看分布
- **双视图模式**: 图表视图（饼图/柱状图）和表格视图可切换
- **交互功能**: 点击查看详情

### 4. 需求变化趋势
- **历史vs预测**: 实线显示历史数据，虚线显示预测数据
- **多指标对比**: 总需求、待评估需求、确认待交付需求、已交付
- **异常点检测**: 自动识别需求量级突增点，显示气泡提示
- **详情跳转**: 点击异常点可跳转到具体需求详情

## 特殊功能

### 1. 自动关单机制
系统每天定时任务自动对当天未交付的需求进行关单处理，确保不存在"已过去的时间，存在未交付的需求"。

### 2. 常驻需求处理
对于没有结束时间的常驻需求，系统会统计开始时间前的已交付需求，并自动过滤显示。

### 3. 负值需求支持
支持负值需求（如回收某个资源池配额），理论上允许资源回收操作。

## 技术特性

### 1. 联动筛选
- 渠道变化时自动清空场景和客户选择
- 场景变化时自动清空客户选择
- 实时显示当前筛选条件标签

### 2. 响应式设计
- 支持桌面端和移动端适配
- 图表自动响应窗口大小变化

### 3. 数据可视化
- 使用ECharts实现高性能图表渲染
- 支持实线/虚线、异常点气泡等高级功能
- 丰富的交互体验

## 使用说明

1. **访问页面**: 在左侧导航菜单中点击"需求管理"
2. **设置筛选**: 根据需要设置筛选条件，支持联动选择
3. **查看汇总**: 顶部6个卡片显示关键指标
4. **分析分布**: 中间区域可切换不同维度和视图模式
5. **趋势分析**: 底部趋势图显示历史和预测数据
6. **异常处理**: 点击趋势图中的异常点查看详情

## 数据更新
- 实时数据更新
- 筛选条件变化时自动刷新
- 支持手动刷新功能
